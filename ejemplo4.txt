<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="CambioEstado.aspx.cs" Inherits="SC.WebApp.PadronDeClientes.CambioEstado" MasterPageFile="~/SC.Master" %>

<%@ Register Assembly="Telerik.Web.UI" Namespace="Telerik.Web.UI" TagPrefix="telerik" %>
<asp:Content ID="Content1" ContentPlaceHolderID="MasterHead" runat="server">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"/>
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="MasterContentPlaceHolder" runat="server">
    <script id="MyScript" type="text/javascript">

        function GetRadWindow() {
            var oWindow = null;
            if (window.radWindow) oWindow = window.radWindow;
            else if (window.frameElement.radWindow) oWindow = window.frameElement.radWindow;
            return oWindow;
        }
        function CloseModal(operacion) {
            setTimeout(function () {
                var oArg = new Object();
                oArg.operacion = operacion;
                var window = GetRadWindow();
                window.close(oArg);
            }, 0);
        }
        function cerrarmodalconfirm() {
            document.getElementById('buttonclosemodalconfirm').click();
        }
    </script>
     <telerik:RadAjaxLoadingPanel ID="ralpGC" runat="server"></telerik:RadAjaxLoadingPanel>
    <telerik:RadAjaxManager ID="RadAjaxManager1" runat="server" DefaultLoadingPanelID="ralpGC">
        <AjaxSettings>
            <telerik:AjaxSetting AjaxControlID="btnAceptar">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="confirmtext" />
                </UpdatedControls>
            </telerik:AjaxSetting>
        </AjaxSettings>
    </telerik:RadAjaxManager>
    <div class="divsCambioEstado" style="padding:10px;">
        <br />
        <asp:HiddenField ID="operacionExitosa" Value="" runat="server" ClientIDMode="Static" />

        <telerik:RadComboBox ID="cbxEstados" runat="server" Width="250" EmptyMessage="Selecciona Estado"></telerik:RadComboBox>
        <asp:RequiredFieldValidator ID="RequiredFieldValidator7" runat="server" Display="Dynamic" ControlToValidate="cbxEstados" ErrorMessage="Este campo es requerido."></asp:RequiredFieldValidator>

        <br />
        <br />
        <label style="font-size:small;">Comentarios:</label>
        <br />
        <telerik:RadTextBox ID="txtDescripcion" runat="server" TextMode="MultiLine" Width="250" Height="80"></telerik:RadTextBox>
        <br />
        <br />
        <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" Display="Dynamic" ControlToValidate="txtDescripcion" ErrorMessage="Este campo es requerido."></asp:RequiredFieldValidator>

        <telerik:RadButton ID="btnAceptar" runat="server" Text="Aceptar" UseSubmitBehavior="false"  OnClientClicked="function(button, args) { document.getElementById('modalconfirmbutton').click(); }" OnClick="btnAceptar_Click1" ></telerik:RadButton>
    </div>
    <button type="button" class="btn" id="modalconfirmbutton" data-bs-toggle="modal" style="display:none" data-bs-target="#modalconfirm"></button>
    <div class="modal fade fs-6" id="modalconfirm" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Cambio de estado</h1>
            <button type="button" id="buttonclosemodalconfirm" class="btn-close"  style="display:none" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
                <div id="confirmtext" runat="server"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <asp:LinkButton ID="btnconfirmcambioestado" CssClass="btn btn-success" runat="server" OnClientClick="cerrarmodalconfirm()" OnClick="btnAceptar_Click">Aceptar</asp:LinkButton>
          </div>
        </div>
      </div>
    </div>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" type="text/javascript" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</asp:Content>
